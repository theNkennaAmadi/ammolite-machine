import{g as i,S as l,a as c}from"./ScrollTrigger-DjNdyQeP.js";import{L as p}from"./lenis-DvwNn7nP.js";i.registerPlugin(l);class u{constructor(t){this.container=t,this.landinglogo=this.container.querySelector(".l-nav-logo"),this.init()}init(){this.splitText(),this.initLenis(),this.initLinkHovers(),this.imageReveal(),this.initLogoAnim(),i.to(".main",{visibility:"visible",opacity:1})}initLogoAnim(){const t=i.timeline({paused:!0,defaults:{ease:"expo.out"}});t.fromTo(this.landinglogo.querySelectorAll(".sh"),{fill:"transparent",opacity:0},{fill:"currentColor",opacity:1,duration:.5,ease:"expo.out"},"<").from(this.landinglogo.querySelectorAll(".sh"),{x:"-1ch",duration:1,ease:"expo.out"},"<"),this.landinglogo.addEventListener("mouseover",()=>{t.timeScale(1),t.play()}),this.landinglogo.addEventListener("mouseout",()=>{t.timeScale(1.25),t.reverse()})}initLenis(){const t=new p({smooth:!0});t.on("scroll",l.update),i.ticker.add(e=>{t.raf(e*1e3)}),i.ticker.lagSmoothing(0)}splitText(){let t=Array.from(this.container.querySelectorAll("h1:not([no-split]), h2:not([no-split]), h3:not([no-split]), p:not([no-split]), a:not([no-split]), label:not([no-split]) span:not([no-split]) blockquote:not([no-split])"));this.elementsToSplit=t.filter(e=>!t.some(n=>n!==e&&n.contains(e))),this.elementsToSplit.forEach(e=>{c({target:e,by:"chars"})}),this.setupTextAnimations()}initLinkHovers(){document.querySelectorAll("[s-link]").forEach(o=>{const a=o.querySelectorAll(".char"),s=i.timeline({paused:!0});s.to(a,{yPercent:-100,duration:.5,ease:"power4.out",stagger:{amount:.1}}),o.addEventListener("mouseover",()=>{s.play()}),o.addEventListener("mouseout",()=>{s.reverse()})});let e=i.matchMedia();const n=this.container.querySelector(".mob-menu");let r=!1;e.add("(max-width: 479px)",()=>{const o=()=>{r?i.to(".nav-main-links-wrapper",{opacity:0}):i.to(".nav-main-links-wrapper",{opacity:1}),r=!r};return n.addEventListener("click",o),()=>{r||n.click(),n.removeEventListener("click",o)}})}setupTextAnimations(){this.elementsToSplit.forEach(t=>{const e=t.querySelectorAll(".char"),n=t.getAttribute("split-text");if(!t.hasAttribute("no-scroll")){i.set(e,{yPercent:110,opacity:0});let o=i.timeline({scrollTrigger:{trigger:t,start:"top 92%",end:"bottom bottom",invalidateOnRefresh:!0}});n==="chars"?o.to(e,{yPercent:0,stagger:{each:.05},opacity:1,ease:"power4.inOut",duration:1}):n==="intro"?o.to(e,{yPercent:0,opacity:1,delay:1,stagger:{each:.05,from:"center"}}):o.to(e,{yPercent:0,opacity:1,ease:"expo.out",duration:2})}})}imageReveal(){i.from(".info-main-img",{clipPath:"inset(50% 50% 50% 50%)",duration:2,ease:"expo.inOut"})}}new u(document.querySelector(".page-wrapper"));
