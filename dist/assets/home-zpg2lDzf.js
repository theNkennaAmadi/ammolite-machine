import{g as i,S as s,a}from"./ScrollTrigger-DjNdyQeP.js";import{L as l}from"./lenis-DvwNn7nP.js";i.registerPlugin(s);class c{constructor(e){this.container=e,this.video=this.container.querySelector(".embed.is-1").querySelector("video"),this.video2=this.container.querySelector(".embed.is-2").querySelector("video"),this.landinglogo=this.container.querySelector(".l-nav-logo"),this.init()}init(){this.initPageLoad(),i.to(".main",{visibility:"visible",opacity:1}),i.to(".page-wrapper",{visibility:"visible",opacity:1}),this.splitText(),this.initLenis(),this.initLinkHovers(),this.initLinkHovers2(),this.initLogoAnim()}initLogoAnim(){const e=i.timeline({paused:!0,defaults:{ease:"expo.out"}});e.fromTo(this.landinglogo.querySelectorAll(".sh"),{fill:"transparent",opacity:0},{fill:"currentColor",opacity:1,duration:.5,ease:"expo.out"},"<").from(this.landinglogo.querySelectorAll(".sh"),{x:"-1ch",duration:1,ease:"expo.out"},"<"),this.landinglogo.addEventListener("mouseover",()=>{e.timeScale(1),e.play()}),this.landinglogo.addEventListener("mouseout",()=>{e.timeScale(1.25),e.reverse()})}initLenis(){const e=new l({smooth:!0});e.on("scroll",s.update),i.ticker.add(t=>{e.raf(t*1e3)}),i.ticker.lagSmoothing(0)}splitText(){let e=Array.from(this.container.querySelectorAll("h1:not([no-split]), h2:not([no-split]), h3:not([no-split]), p:not([no-split]), a:not([no-split]), label:not([no-split]) span:not([no-split]) blockquote:not([no-split])"));this.elementsToSplit=e.filter(t=>!e.some(o=>o!==t&&o.contains(t))),this.elementsToSplit.forEach(t=>{a({target:t,by:"chars"})}),this.setupTextAnimations()}initLinkHovers(){document.querySelectorAll("[s-link]").forEach(t=>{const o=t.querySelectorAll(".char"),n=i.timeline({paused:!0});n.fromTo(o,{yPercent:0},{yPercent:-100,duration:.5,ease:"power4.out",stagger:{amount:.1}}),t.addEventListener("mouseover",()=>{n.play()}),t.addEventListener("mouseout",()=>{n.reverse()})})}initLinkHovers2(){document.querySelectorAll(".home-menu-link").forEach(t=>{const o=t.querySelectorAll(".char"),n=i.timeline({paused:!0});n.fromTo(o,{yPercent:0},{yPercent:-120,duration:.5,ease:"power4.out",stagger:{amount:.1}}),t.addEventListener("mouseover",()=>{n.play()}),t.addEventListener("mouseout",()=>{n.reverse()})})}setupTextAnimations(){this.elementsToSplit.forEach(e=>{const t=e.querySelectorAll(".char"),o=e.getAttribute("split-text");if(!e.hasAttribute("no-scroll")){i.set(t,{yPercent:110,opacity:0});let r=i.timeline({scrollTrigger:{trigger:e,start:"top 92%",end:"bottom bottom",invalidateOnRefresh:!0}});o==="chars"?r.to(t,{yPercent:0,stagger:{each:.05},opacity:1,ease:"power4.inOut",duration:1}):o==="intro"?r.to(t,{yPercent:0,opacity:1,delay:1,stagger:{each:.05,from:"center"}}):r.to(t,{yPercent:0,opacity:1,ease:"expo.out",duration:2})}})}initPageLoad(){this.videoPlayed=!1,this.video.addEventListener("timeupdate",()=>{Math.floor(this.video.currentTime)===5&&this.videoPlayed,Math.floor(this.video.currentTime)===3&&i.to(".home-menu-link",{opacity:1,duration:1,pointerEvents:"auto"}),this.video.currentTime===this.video.duration&&i.to(".embed.is-2",{opacity:1,duration:1})}),this.video.addEventListener("ended",()=>{i.set(".embed.is-2",{opacity:1,duration:1}),this.video2.play()})}}new c(document.querySelector(".page-wrapper"));
