import{g as o,S as a,a as c}from"./ScrollTrigger-DjNdyQeP.js";import{L as u}from"./lenis-DvwNn7nP.js";o.registerPlugin(a);class h{constructor(e){this.container=e,this.contactLine=this.container.querySelectorAll(".contact-line"),this.textFields=this.container.querySelectorAll(".text-field"),this.socialLine=this.container.querySelectorAll(".social-line"),this.socialBlocks=this.container.querySelectorAll(".social-block"),this.landinglogo=this.container.querySelector(".l-nav-logo"),this.init(),console.log("hello")}init(){this.splitText(),this.initLenis(),this.lineReveal(),this.initLinkHovers(),this.socialReveal(),this.initTextArea(),this.initLogoAnim(),o.to(".main",{visibility:"visible",opacity:1})}initLogoAnim(){const e=o.timeline({paused:!0,defaults:{ease:"expo.out"}});e.fromTo(this.landinglogo.querySelectorAll(".sh"),{fill:"transparent",opacity:0},{fill:"currentColor",opacity:1,duration:.5,ease:"expo.out"},"<").from(this.landinglogo.querySelectorAll(".sh"),{x:"-1ch",duration:1,ease:"expo.out"},"<"),this.landinglogo.addEventListener("mouseover",()=>{e.timeScale(1),e.play()}),this.landinglogo.addEventListener("mouseout",()=>{e.timeScale(1.25),e.reverse()})}initLenis(){const e=new u({smooth:!0});e.on("scroll",a.update),o.ticker.add(t=>{e.raf(t*1e3)}),o.ticker.lagSmoothing(0)}splitText(){let e=Array.from(this.container.querySelectorAll("h1:not([no-split]), h2:not([no-split]), h3:not([no-split]), p:not([no-split]), a:not([no-split]), label:not([no-split]) span:not([no-split]) blockquote:not([no-split])"));this.elementsToSplit=e.filter(t=>!e.some(i=>i!==t&&i.contains(t))),this.elementsToSplit.forEach(t=>{c({target:t,by:"chars"})}),this.setupTextAnimations()}setupTextAnimations(){this.elementsToSplit.forEach(e=>{const t=e.querySelectorAll(".char"),i=e.getAttribute("split-text");if(!e.hasAttribute("no-scroll")){o.set(t,{yPercent:110,opacity:0});let r=o.timeline({scrollTrigger:{trigger:e,start:"top 92%",end:"bottom bottom",invalidateOnRefresh:!0}});i==="chars"?r.to(t,{yPercent:0,stagger:{each:.05},opacity:1,ease:"power4.inOut",duration:1}):i==="intro"?r.to(t,{yPercent:0,opacity:1,delay:1,stagger:{each:.05,from:"center"}}):r.to(t,{yPercent:0,opacity:1,ease:"expo.out",duration:2})}})}lineReveal(){o.from(this.contactLine,{clipPath:"inset(0% 100% 0% 0%)",duration:2.5,stagger:.3,ease:"expo.out"}),o.from(this.textFields,{clipPath:"inset(0% 100% 0% 0%)",duration:2.5,stagger:.3,ease:"expo.out"}),o.from(this.socialLine,{clipPath:"inset(0% 100% 0% 0%)",duration:2.5,stagger:.3,ease:"expo.out",onComplete:()=>{}})}socialReveal(){this.socialBlocks.forEach(t=>{const i=t.querySelectorAll(".char"),n=o.timeline({paused:!0});n.to(i,{yPercent:-100,duration:.5,ease:"power4.out",stagger:{amount:.1}}),t.addEventListener("mouseover",()=>{n.play()}),t.addEventListener("mouseout",()=>{n.reverse()})}),this.container.querySelectorAll(".grey").forEach(t=>{const i=t.querySelectorAll(".char"),n=o.timeline({paused:!0});n.to(i,{yPercent:-100,duration:.8,ease:"power4.out",stagger:{amount:.15}}),t.addEventListener("mouseover",()=>{n.play()}),t.addEventListener("mouseout",()=>{n.reverse()})})}initLinkHovers(){document.querySelectorAll("[s-link]").forEach(r=>{const l=r.querySelectorAll(".char"),s=o.timeline({paused:!0});s.fromTo(l,{yPercent:0},{yPercent:-100,duration:.5,ease:"power4.out",stagger:{amount:.1}}),r.addEventListener("mouseover",()=>{s.play()}),r.addEventListener("mouseout",()=>{s.reverse()})});let t=o.matchMedia();const i=this.container.querySelector(".mob-menu");let n=!1;t.add("(max-width: 479px)",()=>{const r=()=>{n?o.to(".nav-main-links-wrapper",{opacity:0}):o.to(".nav-main-links-wrapper",{opacity:1}),n=!n};return i.addEventListener("click",r),()=>{n||i.click(),i.removeEventListener("click",r)}})}initTextArea(){const e=this.container.querySelector(".auto-resize-textarea");function t(){e.style.height="auto",e.style.height=e.scrollHeight+"px"}e.addEventListener("input",t),e.addEventListener("focus",t),t(),window.addEventListener("resize",t)}}new h(document.querySelector(".page-wrapper"));
